<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>hash-calendar - private, URL-powered calendar</title>
  <meta name="description" content="hash-calendar is a privacy-first, URL-powered calendar. Create events, share instantly, and keep data in your browser - no accounts or backend.">
  <meta name="robots" content="index,follow">
  <link rel="canonical" href="https://hash-calendar.netlify.app/">
  <meta property="og:site_name" content="hash-calendar">
  <meta property="og:title" content="hash-calendar - private, URL-powered calendar">
  <meta property="og:description" content="Privacy-first calendar that lives in your URL. Create events, share instantly, and keep data in your browser - no accounts or backend.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://hash-calendar.netlify.app/">
  <meta property="og:image" content="https://hash-calendar.netlify.app/logo.png">
  <meta property="og:image:alt" content="hash-calendar logo">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="hash-calendar - private, URL-powered calendar">
  <meta name="twitter:description" content="Privacy-first calendar that lives in your URL. Create events, share instantly, and keep data in your browser - no accounts or backend.">
  <meta name="twitter:image" content="https://hash-calendar.netlify.app/logo.png">
  <meta name="twitter:image:alt" content="hash-calendar logo">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" href="apple-touch-icon.png" sizes="180x180">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;600;700&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "hash-calendar",
      "url": "https://hash-calendar.netlify.app/",
      "description": "Privacy-first calendar that lives in your URL. Create events, share instantly, and keep data in your browser - no accounts or backend.",
      "applicationCategory": "Productivity",
      "operatingSystem": "All",
      "browserRequirements": "Requires JavaScript",
      "image": "https://hash-calendar.netlify.app/logo.png"
    }
  </script>
</head>
<body>
  <div class="app">
    <header class="topbar">
      <div class="brand">
        <div class="brand-mark">#</div>
        <div class="brand-text">
          <input id="calendar-title" class="title-input" type="text" maxlength="60" value="hash-calendar" aria-label="Calendar title">
          <span class="brand-subtitle">Serverless privacy calendar. Your URL is the save file.</span>
        </div>
      </div>
      <div class="top-actions">
        <div class="nav-group">
          <button id="prev-month" type="button" aria-label="Previous month">Prev</button>
          <button id="today-btn" type="button">Today</button>
          <button id="next-month" type="button" aria-label="Next month">Next</button>
        </div>
        <div class="view-toggle" role="tablist" aria-label="Calendar view">
          <button type="button" data-view="day" role="tab" aria-selected="false">Day</button>
          <button type="button" data-view="week" role="tab" aria-selected="false">Week</button>
          <button type="button" data-view="month" role="tab" aria-selected="true">Month</button>
          <button type="button" data-view="year" role="tab" aria-selected="false">Year</button>
        </div>
        <button id="focus-btn" type="button" class="ghost">Focus</button>
        <button id="add-event" type="button" class="primary">Add event</button>
        <button id="copy-link" type="button">Copy link</button>
        <button id="share-qr" type="button">Share QR</button>
        <button id="lock-btn" type="button">Lock</button>
        <a class="action-link" href="https://github.com/supunlakmal/hash-calendar" target="_blank" rel="noreferrer">
          <i class="fa-brands fa-github" aria-hidden="true"></i>
          <span>GitHub</span>
        </a>
      </div>
    </header>

    <main class="layout">
      <section class="calendar-panel">
        <div class="panel-header">
          <div>
            <h2 id="month-label" class="month-label">Month 2026</h2>
            <div class="panel-actions">
              <button id="weekstart-toggle" type="button" class="ghost">Week starts Sunday</button>
              <button id="theme-toggle" type="button" class="ghost">Theme: Light</button>
            </div>
          </div>
        </div>
        <div id="weekday-row" class="weekday-row"></div>
        <div id="calendar-grid" class="calendar-grid" role="grid" aria-label="Calendar"></div>
        <div id="locked-overlay" class="locked-overlay hidden">
          <div class="locked-card">
            <h3>Encrypted calendar</h3>
            <p>Enter the password to unlock and edit this calendar.</p>
            <button id="unlock-btn" type="button" class="primary">Unlock</button>
          </div>
        </div>
      </section>

      <aside class="side-panel">
        <div class="side-card">
          <h3 id="selected-date-label" class="side-title">Selected day</h3>
          <div id="event-list" class="event-list"></div>
          <button id="add-event-inline" type="button" class="ghost">Add event for this day</button>
        </div>

        <div class="side-card">
          <h4 class="side-title">Share and export</h4>
          <div class="status-row">
            <span>URL length</span>
            <strong id="url-length">0</strong>
          </div>
          <p id="url-warning" class="url-warning"></p>
          <div class="stacked-actions">
            <button id="view-json" type="button" class="ghost">View JSON</button>
            <button id="export-json" type="button" class="ghost">Export JSON</button>
            <button id="import-ics" type="button" class="ghost">Import .ics</button>
            <input id="ics-input" type="file" accept=".ics,text/calendar" hidden>
          </div>
        </div>

        <div class="side-card danger">
          <h4 class="side-title">Danger zone</h4>
          <button id="clear-all" type="button" class="danger-btn">Clear calendar</button>
        </div>
      </aside>
    </main>
  </div>

  <div id="focus-overlay" class="focus-overlay" aria-hidden="true">
    <div class="focus-shell">
      <div class="focus-header">
        <button id="focus-exit" type="button" class="icon-btn focus-exit" aria-label="Exit focus mode">x</button>
        <div id="focus-clock" class="focus-clock">00:00</div>
      </div>
      <div class="focus-main">
        <div id="focus-status" class="focus-status">NEXT UP IN</div>
        <div id="focus-timer" class="focus-timer">00:00:00</div>
        <div class="focus-event">
          <div id="focus-title" class="focus-title">No upcoming events</div>
          <div id="focus-time" class="focus-time"></div>
        </div>
      </div>
      <div id="focus-upnext" class="focus-upnext hidden">
        <div class="focus-upnext-label">Up later</div>
        <ul id="focus-upnext-list" class="focus-upnext-list"></ul>
      </div>
    </div>
  </div>

  <div id="event-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="event-modal-title">
    <div class="modal-backdrop"></div>
    <div class="modal-card">
      <header class="modal-header">
        <h3 id="event-modal-title">Add event</h3>
        <button id="event-close" type="button" class="icon-btn" aria-label="Close">x</button>
      </header>
      <form id="event-form" class="modal-form">
        <label class="field">
          <span>Title</span>
          <input id="event-title" type="text" maxlength="80" required>
        </label>
        <div class="field-row">
          <label class="field">
            <span>Date</span>
            <input id="event-date" type="date" required>
          </label>
          <label class="field">
            <span>Start</span>
            <input id="event-time" type="time">
          </label>
        </div>
        <div class="field-row">
          <label class="field">
            <span>Duration (mins)</span>
            <input id="event-duration" type="number" min="0" step="5" value="60">
          </label>
          <label class="field checkbox-field">
            <input id="event-all-day" type="checkbox">
            <span>All day</span>
          </label>
        </div>
        <label class="field">
          <span>Recurrence</span>
          <select id="event-recurrence">
            <option value="">None</option>
            <option value="d">Daily</option>
            <option value="w">Weekly</option>
            <option value="m">Monthly</option>
            <option value="y">Yearly</option>
          </select>
        </label>
        <label class="field">
          <span>Color</span>
          <input id="event-color" type="color" value="#ff6b6b">
        </label>
        <div id="color-palette" class="color-palette"></div>
        <div class="modal-actions">
          <button id="event-delete" type="button" class="ghost danger hidden">Delete</button>
          <div class="modal-actions-right">
            <button id="event-cancel" type="button" class="ghost">Cancel</button>
            <button id="event-save" type="submit" class="primary">Save</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <div id="password-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="password-title">
    <div class="modal-backdrop"></div>
    <div class="modal-card">
      <header class="modal-header">
        <h3 id="password-title">Unlock calendar</h3>
        <button id="password-close" type="button" class="icon-btn" aria-label="Close">x</button>
      </header>
      <div class="modal-form">
        <p id="password-desc" class="modal-note"></p>
        <label class="field">
          <span>Password</span>
          <input id="password-input" type="password" autocomplete="new-password">
        </label>
        <label id="password-confirm-field" class="field hidden">
          <span>Confirm password</span>
          <input id="password-confirm" type="password" autocomplete="new-password">
        </label>
        <p id="password-error" class="modal-error hidden"></p>
        <div class="modal-actions">
          <button id="password-cancel" type="button" class="ghost">Cancel</button>
          <button id="password-submit" type="button" class="primary">Unlock</button>
        </div>
      </div>
    </div>
  </div>

  <div id="json-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="json-modal-title">
    <div class="modal-backdrop"></div>
    <div class="modal-card json-modal-card">
      <header class="modal-header">
        <h3 id="json-modal-title">Share data</h3>
        <button id="json-close" type="button" class="icon-btn" aria-label="Close">x</button>
      </header>
      <div class="modal-form">
        <label class="field">
          <span>URL hash</span>
          <input id="json-hash" type="text" readonly>
        </label>
        <label class="field">
          <span>JSON data</span>
          <textarea id="json-output" class="json-output" rows="10" readonly></textarea>
        </label>
        <div class="modal-actions">
          <button id="json-copy-hash" type="button" class="ghost">Copy hash</button>
          <div class="modal-actions-right">
            <button id="json-copy" type="button" class="ghost">Copy JSON</button>
            <button id="json-download" type="button" class="primary">Download JSON</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="qr-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="qr-modal-title">
    <div class="modal-backdrop"></div>
    <div class="modal-card qr-modal-card">
      <header class="modal-header">
        <h3 id="qr-modal-title">Scan to open on mobile</h3>
        <button id="qr-close" type="button" class="icon-btn" aria-label="Close">x</button>
      </header>
      <div class="qr-modal-body">
        <p id="qr-warning" class="qr-warning hidden"></p>
        <div id="qrcode-container" class="qr-code"></div>
        <p class="qr-helper">Point your phone camera at this code to open your calendar.</p>
      </div>
      <div class="modal-actions qr-modal-actions">
        <button id="qr-copy-link" type="button" class="ghost">Copy text link instead</button>
      </div>
    </div>
  </div>

  <div id="toast-container" class="toast-container" aria-live="polite" aria-atomic="true"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script src="modules/lz-string.min.js"></script>
  <script type="module" src="script.js"></script>
</body>
</html>
