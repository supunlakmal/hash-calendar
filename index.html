<!DOCTYPE html>
<html lang="en">

<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-77V3TP2B5T"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    // Security: Exclude URL hash from analytics to prevent leaking data
    gtag('config', 'G-77V3TP2B5T', {
      'page_location': window.location.origin + window.location.pathname,
      'page_path': window.location.pathname
    });
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>hash-calendar - private, URL-powered calendar</title>
  <meta name="description"
    content="hash-calendar is a privacy-first, URL-powered calendar. Create events, share instantly, and keep data in your browser - no accounts or backend.">
  <meta name="robots" content="index,follow">
  <link rel="canonical" href="https://hash-calendar.netlify.app/">
  <meta property="og:site_name" content="hash-calendar">
  <meta property="og:title" content="hash-calendar - private, URL-powered calendar">
  <meta property="og:description"
    content="Privacy-first calendar that lives in your URL. Create events, share instantly, and keep data in your browser - no accounts or backend.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://hash-calendar.netlify.app/">
  <meta property="og:image" content="https://hash-calendar.netlify.app/logo.png">
  <meta property="og:image:alt" content="hash-calendar logo">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="hash-calendar - private, URL-powered calendar">
  <meta name="twitter:description"
    content="Privacy-first calendar that lives in your URL. Create events, share instantly, and keep data in your browser - no accounts or backend.">
  <meta name="twitter:image" content="https://hash-calendar.netlify.app/logo.png">
  <meta name="twitter:image:alt" content="hash-calendar logo">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "hash-calendar",
    "url": "https://hash-calendar.netlify.app/",
    "description": "Privacy-first, URL-powered calendar. Create events, share instantly, and keep data in your browser — no accounts or backend.",
    "applicationCategory": "BusinessApplication",
    "operatingSystem": "Any",
    "browserRequirements": "Requires JavaScript",
    "softwareVersion": "1.0",
    "inLanguage": ["en", "it", "si", "ta"],
    "isAccessibleForFree": true,
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "featureList": [
      "Client-only — no server, no database",
      "URL hash stores all calendar state",
      "Share calendars via link or QR code",
      "Password-protect shared calendars",
      "Import and export ICS files",
      "JSON bridge for programmatic access",
      "Multi-language support",
      "Dark mode",
      "Offline capable (PWA)"
    ],
    "screenshot": "https://hash-calendar.netlify.app/logo.png",
    "author": {
      "@type": "Person",
      "name": "Supun Lakmal",
      "url": "https://github.com/supunlakmal"
    },
    "license": "https://opensource.org/licenses/MIT",
    "sourceOrganization": {
      "@type": "Organization",
      "name": "hash-calendar",
      "url": "https://github.com/supunlakmal/hash-calendar"
    }
  }
  </script>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" href="apple-touch-icon.png" sizes="180x180">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#ffffff">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;600;700&family=Space+Grotesk:wght@400;500;600&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="styles-i18n.css">
  <link rel="stylesheet" href="styles-logo.css">
</head>

<body>
  <div class="app">
    <header class="topbar">
      <div class="topbar-left">
        <div class="brand">
          <a href="/" class="logo-link" aria-label="Go to calendar home">
            <div class="brand-mark">
              <img src="logo.png" alt="hash-calendar logo" class="logo-img">
            </div>
          </a>
          <div class="brand-text">
            <input id="calendar-title" class="title-input" type="text" maxlength="60" value="hash-calendar"
              aria-label="Calendar title">
          </div>
        </div>
        <div class="nav-group">
          <button id="prev-month" type="button" aria-label="Previous month" data-i18n-aria-label="nav.prevMonth">
            <i class="fa-solid fa-chevron-left" aria-hidden="true"></i>
          </button>
          <button id="today-btn" type="button" aria-label="Today" data-i18n="nav.today">Today</button>
          <button id="next-month" type="button" aria-label="Next month" data-i18n-aria-label="nav.nextMonth">
            <i class="fa-solid fa-chevron-right" aria-hidden="true"></i>
          </button>
        </div>
        <div id="topbar-date-label" class="topbar-date-label" aria-live="polite">February 2026</div>
      </div>

      <div class="topbar-spacer" aria-hidden="true"></div>

      <div id="secondary-actions" class="secondary-actions">
        <details id="view-menu" class="menu-dropdown view-menu">
          <summary class="menu-trigger view-menu-trigger" aria-label="Calendar views">
            <span id="view-menu-current">Month</span>
            <i class="fa-solid fa-chevron-down" aria-hidden="true"></i>
          </summary>
          <div class="menu-dropdown-panel view-menu-panel" role="listbox" aria-label="Calendar views">
            <button type="button" class="view-menu-option" data-view-menu-option data-view="day" role="option"
              data-i18n="view.day">Day</button>
            <button type="button" class="view-menu-option" data-view-menu-option data-view="week" role="option"
              data-i18n="view.week">Week</button>
            <button type="button" class="view-menu-option" data-view-menu-option data-view="month" role="option"
              data-i18n="view.month">Month</button>
            <button type="button" class="view-menu-option" data-view-menu-option data-view="year" role="option"
              data-i18n="view.year">Year</button>
            <button type="button" class="view-menu-option" data-view-menu-option data-view="agenda" role="option"
              data-i18n="view.agenda">Agenda</button>
            <button type="button" class="view-menu-option" data-view-menu-option data-view="timeline" role="option"
              data-i18n="view.timeline">Timeline</button>
          </div>
        </details>

        <button id="lock-btn" type="button" class="icon-btn topbar-tool-btn" data-icon-only="true"
          data-i18n-aria-label="btn.lock" aria-label="Lock">
          <i class="fa-solid fa-lock" aria-hidden="true"></i>
        </button>
        <button id="readonly-btn" type="button" class="icon-btn topbar-tool-btn" data-icon-only="true"
          data-i18n-aria-label="btn.readOnly" aria-label="Read only" aria-pressed="false">
          <i class="fa-solid fa-eye" aria-hidden="true"></i>
        </button>
        <button id="theme-toggle" type="button" class="topbar-theme-btn" aria-label="Theme: Light" title="Theme: Light">
          <i class="fa-solid fa-sun" aria-hidden="true"></i>
          <span class="theme-toggle-text">Theme: Light</span>
        </button>

        <details class="menu-dropdown settings-menu">
          <summary class="menu-trigger icon-btn topbar-tool-btn" aria-label="Settings">
            <i class="fa-solid fa-gear" aria-hidden="true"></i>
          </summary>
          <div class="menu-dropdown-panel settings-menu-panel">
            <button id="weekstart-toggle" type="button" class="menu-text-item">
              <i class="fa-solid fa-calendar-week" aria-hidden="true"></i>
              <span class="menu-item-label" data-i18n="settings.weekStartsSunday">Week starts Sunday</span>
            </button>
            <button id="notify-toggle" type="button" class="menu-text-item">
              <i class="fa-solid fa-bell" aria-hidden="true"></i>
              <span class="menu-item-label" data-i18n="settings.notificationsOff">Notifications: Off</span>
            </button>
            <button id="focus-btn" type="button" class="menu-text-item">
              <i class="fa-solid fa-bolt" aria-hidden="true"></i>
              <span class="menu-item-label" data-i18n="btn.focus">Focus</span>
            </button>
            <button id="world-planner-btn" type="button" class="accent-btn" aria-label="Open World Planner"
              data-i18n-aria-label="btn.worldPlanner">
              <i class="fa-solid fa-earth-americas" aria-hidden="true"></i>
              <span data-i18n="btn.worldPlanner">Planner</span>
            </button>
            <button id="app-launcher-btn" type="button" class="menu-action-btn" aria-label="App Launcher"
              data-i18n-aria-label="launcher.ariaLabel" aria-expanded="false">
              <i class="fa-solid fa-grip" aria-hidden="true"></i>
              <span data-i18n="launcher.appsTitle">Apps</span>
            </button>
            <div class="dropdown-container lang-selector">
              <button id="language-btn" class="dropdown-trigger" type="button" aria-label="Select language"
                aria-haspopup="listbox" aria-expanded="false">
                <i class="fa-solid fa-language"></i>
                <span id="current-lang">English</span>
                <i class="fa-solid fa-chevron-down"></i>
              </button>
              <div id="language-dropdown" class="dropdown-menu hidden">
                <ul id="language-list" class="dropdown-list" role="listbox">
                  <!-- Generated by JS -->
                </ul>
              </div>
            </div>
          </div>
        </details>

        <a id="github-main-link" href="https://github.com/supunlakmal/hash-calendar"
          class="topbar-icon-link icon-btn topbar-tool-btn" target="_blank" rel="noopener" aria-label="GitHub"
          title="GitHub">
          <i class="fa-brands fa-github" aria-hidden="true"></i>
        </a>

        <details class="menu-dropdown help-menu">
          <summary class="menu-trigger icon-btn topbar-tool-btn" aria-label="Help links">
            <i class="fa-solid fa-circle-question" aria-hidden="true"></i>
          </summary>
          <div class="menu-dropdown-panel help-menu-panel">
            <a href="https://github.com/supunlakmal/hash-calendar" class="action-link" target="_blank" rel="noopener"
              aria-label="GitHub">
              <i class="fa-brands fa-github" aria-hidden="true"></i>
              <span>GitHub</span>
            </a>
            <a href="privacy.html" class="action-link" aria-label="Privacy" target="_blank" rel="noopener">
              <i class="fa-solid fa-shield-halved" aria-hidden="true"></i>
              <span>Privacy</span>
            </a>
            <a href="help.html" class="action-link" aria-label="Help" target="_blank" rel="noopener">
              <i class="fa-solid fa-circle-question" aria-hidden="true"></i>
              <span>Help</span>
            </a>
            <a href="faq.html" class="action-link" aria-label="FAQ" target="_blank" rel="noopener">
              <i class="fa-solid fa-comments" aria-hidden="true"></i>
              <span>FAQ</span>
            </a>
            <a href="about.html" class="action-link" aria-label="About" target="_blank" rel="noopener">
              <i class="fa-solid fa-circle-info" aria-hidden="true"></i>
              <span>About</span>
            </a>
          </div>
        </details>

        <button id="add-event" class="primary add-event-btn" type="button">
          <i class="fa-solid fa-plus" aria-hidden="true"></i>
          <span data-i18n="btn.addEvent">Add event</span>
        </button>
      </div>

      <div id="mobile-menu-toggle" class="mobile-only">
        <button id="hamburger-btn" type="button" aria-label="Menu" aria-expanded="false" aria-controls="mobile-drawer"
          class="icon-btn">
          <i class="fa-solid fa-bars"></i>
        </button>
      </div>
    </header>

    <div id="mobile-quick-actions" class="mobile-quick-actions mobile-only">
      <button id="mobile-add-event" type="button" class="quick-action-btn" aria-label="Add event">
        <i class="fa-solid fa-plus"></i>
      </button>
      <button id="mobile-copy-link" type="button" class="quick-action-btn" aria-label="Copy link">
        <i class="fa-solid fa-copy"></i>
      </button>
      <a href="https://www.buymeacoffee.com/supunlakmal" class="quick-action-btn bmc-mobile-btn" target="_blank"
        rel="noopener" aria-label="Buy me a coffee">
        <i class="fa-solid fa-mug-hot"></i>
      </a>
      <button id="mobile-share-qr" type="button" class="quick-action-btn" aria-label="Share QR">
        <i class="fa-solid fa-share-nodes"></i>
      </button>
      <button id="mobile-lock-btn" type="button" class="quick-action-btn" aria-label="Lock">
        <i class="fa-solid fa-lock"></i>
      </button>
      <button id="mobile-unlock-btn" type="button" class="quick-action-btn hidden" aria-label="Unlock">
        <i class="fa-solid fa-lock-open"></i>
      </button>
      <button id="mobile-focus-btn" type="button" class="quick-action-btn" aria-label="Focus">
        <i class="fa-solid fa-bolt"></i>
      </button>
    </div>

    <div id="countdown-widget" class="countdown-container hidden" aria-live="polite">
      <div class="countdown-label" data-i18n="countdown.upNext">Up Next</div>
      <div class="countdown-content">
        <div id="nextEventTitle" class="countdown-title">--</div>
        <div id="countdownTimer" class="countdown-timer">00:00:00</div>
        <div id="nextEventTime" class="countdown-meta">--</div>
      </div>
    </div>

    <main class="layout">
      <section class="calendar-panel">
        <div class="panel-header">
          <div>
            <h2 id="month-label" class="month-label">Month 2026</h2>
            <div class="panel-actions">
              <button id="mobile-sidebar-toggle" class="mobile-only" type="button" aria-label="Toggle details panels">
                <i class="fa-solid fa-list-ul"></i>
                <span data-i18n="label.details">Details</span>
              </button>
            </div>
          </div>
        </div>
        <div id="weekday-row" class="weekday-row"></div>
        <div id="calendar-grid" class="calendar-grid" role="grid" aria-label="Calendar"></div>
        <div id="timeline-controls" class="timeline-controls hidden" aria-label="Timeline controls">
          <div id="timeline-minimap" class="timeline-minimap" role="slider" tabindex="0"
            aria-label="Timeline navigator">
            <div id="timeline-minimap-events" class="timeline-minimap-events"></div>
            <div id="timeline-minimap-today" class="timeline-minimap-today" aria-hidden="true"></div>
            <div id="timeline-minimap-selected" class="timeline-minimap-selected" aria-hidden="true"></div>
            <div id="timeline-minimap-viewport" class="timeline-minimap-viewport" aria-hidden="true"></div>
          </div>
          <div class="timeline-controls-row">
            <button id="timeline-zoom-out" type="button" class="timeline-zoom-btn" aria-label="Zoom out timeline">
              <i class="fa-solid fa-minus" aria-hidden="true"></i>
            </button>
            <label class="timeline-zoom-label" for="timeline-zoom-range">
              <span class="timeline-zoom-label-text">Zoom</span>
              <input id="timeline-zoom-range" type="range" min="0" max="4" step="1" value="2"
                aria-label="Timeline zoom level">
              <span id="timeline-zoom-value" class="timeline-zoom-value">Day</span>
            </label>
            <button id="timeline-zoom-in" type="button" class="timeline-zoom-btn" aria-label="Zoom in timeline">
              <i class="fa-solid fa-plus" aria-hidden="true"></i>
            </button>
            <button id="timeline-jump-today" type="button" class="timeline-center-btn">Center Today</button>
          </div>
        </div>
        <div id="locked-overlay" class="locked-overlay hidden">
          <div class="locked-card">
            <h3 data-i18n="locked.title">Encrypted calendar</h3>
            <p data-i18n="locked.message">Enter the password to unlock and edit this calendar.</p>
            <button id="unlock-btn" type="button" class="primary" data-i18n="btn.unlock">Unlock</button>
          </div>
        </div>
      </section>

      <aside class="side-panel">
        <button id="side-panel-close" class="side-close mobile-only" type="button" aria-label="Close details">
          <i class="fa-solid fa-xmark"></i>
        </button>

        <a href="https://www.buymeacoffee.com/supunlakmal" class="action-link bmc-link sidebar-bmc" target="_blank"
          rel="noopener" aria-label="Buy me a coffee">
          <i class="fa-solid fa-mug-hot" aria-hidden="true"></i>
          <span>Buy me a coffee</span>
        </a>

        <div class="side-actions-top">
          <button id="copy-link" type="button" class="primary w-100" data-i18n="btn.copyLink">
            <i class="fa-solid fa-copy"></i> <span>Copy link</span>
          </button>
          <button id="share-qr" type="button" class="ghost w-100" data-i18n="btn.shareQr">
            <i class="fa-solid fa-qrcode"></i> <span>Share QR</span>
          </button>
        </div>

        <div class="side-card">
          <h3 id="selected-date-label" class="side-title" data-i18n="panel.selectedDay">Selected day</h3>
          <div id="event-list" class="event-list"></div>
          <button id="add-event-inline" type="button" class="ghost" data-i18n="btn.addEventForDay">Add event for this
            day</button>
        </div>

        <div id="share-export-section" class="side-card">
          <h4 class="side-title" data-i18n="panel.shareExport">Share and export</h4>
          <div class="status-row">
            <span data-i18n="panel.urlLength">URL length</span>
            <strong id="url-length">0</strong>
          </div>
          <p id="url-warning" class="url-warning"></p>
          <div class="stacked-actions">
            <button id="view-json" type="button" class="ghost">
              <i class="fa-solid fa-code" aria-hidden="true"></i>
              <span class="stacked-action-label" data-i18n="btn.viewJson">View JSON</span>
            </button>
            <button id="export-json" type="button" class="ghost">
              <i class="fa-solid fa-file-arrow-down" aria-hidden="true"></i>
              <span class="stacked-action-label" data-i18n="btn.exportJson">Export JSON</span>
            </button>
            <button id="import-ics" type="button" class="ghost">
              <i class="fa-solid fa-file-arrow-up" aria-hidden="true"></i>
              <span class="stacked-action-label" data-i18n="btn.importIcs">Import .ics</span>
            </button>
            <button id="open-template-gallery" type="button" class="ghost">
              <i class="fa-solid fa-images" aria-hidden="true"></i>
              <span class="stacked-action-label" data-i18n="btn.templateGallery">Template gallery</span>
            </button>
            <input id="ics-input" type="file" accept=".ics,text/calendar" hidden>
          </div>
        </div>

        <div id="danger-zone-section" class="side-card danger">
          <h4 class="side-title" data-i18n="panel.dangerZone">Danger zone</h4>
          <button id="clear-all" type="button" class="danger-btn" data-i18n="btn.clearCalendar">Clear calendar</button>
        </div>
      </aside>

      <aside id="timezone-ruler" class="tz-sidebar">
        <button id="tz-sidebar-close" class="side-close mobile-only" type="button" aria-label="Close clock">
          <i class="fa-solid fa-xmark"></i>
        </button>
        <div class="tz-header">
          <div>
            <h4 class="tz-title" data-i18n="tz.worldClock">World Clock</h4>
            <p class="tz-subtitle" data-i18n="tz.subtitle">Local time plus saved zones</p>
          </div>
          <button id="add-tz-btn" type="button" class="icon-btn tz-add" aria-label="Add timezone"
            data-i18n-aria-label="btn.addTimezone">+</button>
        </div>
        <div id="tz-list" class="tz-list" aria-live="polite"></div>
      </aside>
    </main>
  </div>

  <div id="focus-overlay" class="focus-overlay" aria-hidden="true">
    <div class="focus-shell">
      <div class="focus-header">
        <button id="focus-exit" type="button" class="icon-btn focus-exit" aria-label="Exit focus mode">x</button>
        <div id="focus-clock" class="focus-clock">00:00</div>
      </div>
      <div class="focus-main">
        <div id="focus-status" class="focus-status" data-i18n="focus.nextUpIn">NEXT UP IN</div>
        <div id="focus-timer" class="focus-timer">00:00:00</div>
        <div class="focus-event">
          <div id="focus-title" class="focus-title" data-i18n="focus.noUpcoming">No upcoming events</div>
          <div id="focus-time" class="focus-time"></div>
        </div>
      </div>
      <div id="focus-upnext" class="focus-upnext hidden">
        <div class="focus-upnext-label" data-i18n="focus.upLater">Up later</div>
        <ul id="focus-upnext-list" class="focus-upnext-list"></ul>
      </div>
    </div>
  </div>

  <div id="event-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="event-modal-title">
    <div class="modal-backdrop"></div>
    <div class="modal-card">
      <header class="modal-header">
        <h3 id="event-modal-title" data-i18n="modal.addEvent">Add event</h3>
        <button id="event-close" type="button" class="icon-btn" aria-label="Close"
          data-i18n-aria-label="label.close">x</button>
      </header>
      <form id="event-form" class="modal-form">
        <div class="modal-body">
          <label class="field">
            <span data-i18n="event.title">Title</span>
            <input id="event-title" type="text" maxlength="80" required>
          </label>
          <div class="field-row">
            <label class="field">
              <span data-i18n="event.date">Start Date</span>
              <input id="event-date" type="date" required>
            </label>
            <label class="field">
              <span data-i18n="event.start">Start Time</span>
              <input id="event-time" type="time">
            </label>
          </div>
          <div class="field-row">
            <label class="field">
              <span data-i18n="event.endDate">End Date</span>
              <input id="event-end-date" type="date" required>
            </label>
            <label class="field">
              <span data-i18n="event.end">End Time</span>
              <input id="event-end-time" type="time">
            </label>
          </div>
          <div class="field-row">
            <label class="field">
              <span data-i18n="event.duration">Duration (mins)</span>
              <input id="event-duration" type="number" min="0" step="5" value="60">
            </label>
            <label class="field checkbox-field">
              <input id="event-all-day" type="checkbox">
              <span data-i18n="event.allDay">All day</span>
            </label>
          </div>
          <label class="field">
            <span data-i18n="event.recurrence">Recurrence</span>
            <select id="event-recurrence">
              <option value="" data-i18n="recurrence.none">None</option>
              <option value="d" data-i18n="recurrence.daily">Daily</option>
              <option value="w" data-i18n="recurrence.weekly">Weekly</option>
              <option value="m" data-i18n="recurrence.monthly">Monthly</option>
              <option value="y" data-i18n="recurrence.yearly">Yearly</option>
            </select>
          </label>
          <div class="field">
            <span data-i18n="event.color">Color</span>
            <div class="color-field-group">
              <input id="event-color" type="color" value="#ff6b6b">
              <div id="color-palette" class="color-palette"></div>
            </div>
          </div>
        </div>
        <div class="modal-actions">
          <button id="event-delete" type="button" class="ghost danger hidden" data-i18n="btn.delete">Delete</button>
          <div class="modal-actions-right">
            <button id="event-cancel" type="button" class="ghost" data-i18n="btn.cancel">Cancel</button>
            <button id="event-save" type="submit" class="primary" data-i18n="btn.save">Save</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <div id="password-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="password-title">
    <div class="modal-backdrop"></div>
    <div class="modal-card">
      <header class="modal-header">
        <h3 id="password-title" data-i18n="modal.unlockCalendar">Unlock calendar</h3>
        <button id="password-close" type="button" class="icon-btn" aria-label="Close"
          data-i18n-aria-label="label.close">x</button>
      </header>
      <div class="modal-form">
        <div class="modal-body">
          <p id="password-desc" class="modal-note"></p>
          <label class="field">
            <span data-i18n="password.password">Password</span>
            <input id="password-input" type="password" autocomplete="new-password">
          </label>
          <label id="password-confirm-field" class="field hidden">
            <span data-i18n="password.confirmPassword">Confirm password</span>
            <input id="password-confirm" type="password" autocomplete="new-password">
          </label>
          <p id="password-error" class="modal-error hidden"></p>
        </div>
        <div class="modal-actions">
          <button id="password-cancel" type="button" class="ghost" data-i18n="btn.cancel">Cancel</button>
          <button id="password-submit" type="button" class="primary" data-i18n="btn.unlock">Unlock</button>
        </div>
      </div>
    </div>
  </div>

  <div id="json-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="json-modal-title">
    <div class="modal-backdrop"></div>
    <div class="modal-card json-modal-card">
      <header class="modal-header">
        <h3 id="json-modal-title" data-i18n="modal.shareData">Share data</h3>
        <button id="json-close" type="button" class="icon-btn" aria-label="Close"
          data-i18n-aria-label="label.close">x</button>
      </header>
      <div class="modal-form">
        <div class="modal-body">
          <label class="field">
            <span data-i18n="json.urlHash">URL hash</span>
            <input id="json-hash" type="text" readonly>
          </label>
          <label class="field">
            <span data-i18n="json.jsonData">JSON data</span>
            <textarea id="json-output" class="json-output" rows="10" readonly></textarea>
          </label>
        </div>
        <div class="modal-actions">
          <button id="json-copy-hash" type="button" class="ghost" data-i18n="btn.copyHash">Copy hash</button>
          <div class="modal-actions-right">
            <button id="json-copy" type="button" class="ghost" data-i18n="btn.copyJson">Copy JSON</button>
            <button id="json-download" type="button" class="primary" data-i18n="btn.downloadJson">Download JSON</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="template-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="template-modal-title">
    <div class="modal-backdrop"></div>
    <div class="modal-card template-modal-card">
      <header class="modal-header">
        <h3 id="template-modal-title" data-i18n="modal.templateGallery">Template gallery</h3>
        <button id="template-close" type="button" class="icon-btn" aria-label="Close"
          data-i18n-aria-label="label.close">x</button>
      </header>
      <div class="modal-form">
        <div class="modal-body template-modal-body">
          <p class="modal-note" data-i18n="template.modalHint">Pick a starter template and open it in a fresh calendar.
          </p>
          <div id="template-links" class="template-links"></div>
        </div>
        <div class="modal-actions">
          <button id="template-cancel" type="button" class="ghost" data-i18n="btn.cancel">Cancel</button>
        </div>
      </div>
    </div>
  </div>

  <div id="qr-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="qr-modal-title">
    <div class="modal-backdrop"></div>
    <div class="modal-card qr-modal-card">
      <header class="modal-header">
        <h3 id="qr-modal-title" data-i18n="modal.scanQr">Scan to open on mobile</h3>
        <button id="qr-close" type="button" class="icon-btn" aria-label="Close"
          data-i18n-aria-label="label.close">x</button>
      </header>
      <div class="modal-body qr-modal-body">
        <p id="qr-warning" class="qr-warning hidden"></p>
        <div id="qrcode-container" class="qr-code"></div>
        <p class="qr-helper" data-i18n="qr.helper">Point your phone camera at this code to open your calendar.</p>
      </div>
      <div class="modal-actions qr-modal-actions">
        <button id="qr-copy-link" type="button" class="ghost" data-i18n="btn.copyTextLink">Copy text link
          instead</button>
      </div>
    </div>
  </div>

  <div id="app-launcher-modal" class="modal hidden" role="dialog" aria-modal="true"
    aria-labelledby="app-launcher-modal-title">
    <div class="modal-backdrop"></div>
    <div class="app-launcher-modal-panel" role="document">
      <div class="app-launcher-modal-header">
        <h3 id="app-launcher-modal-title" class="app-launcher-modal-title" data-i18n="launcher.appsTitle">Apps</h3>
        <button id="app-launcher-close" type="button" class="app-launcher-modal-close" aria-label="Close app launcher">
          <i class="fa-solid fa-xmark" aria-hidden="true"></i>
        </button>
      </div>
      <div class="app-launcher-modal-body">
        <iframe id="app-launcher-iframe" title="Open Edit Apps" loading="lazy"
          referrerpolicy="strict-origin-when-cross-origin" src=""
          data-src="https://open-edit.netlify.app/apps.html"></iframe>
      </div>
    </div>
  </div>

  <dialog id="tz-modal" class="tz-modal" aria-labelledby="tz-modal-title">
    <div class="tz-modal-card">
      <header class="tz-modal-header">
        <h3 id="tz-modal-title" data-i18n="modal.selectTimezone">Select timezone</h3>
        <button id="close-tz-modal" type="button" class="icon-btn" aria-label="Close"
          data-i18n-aria-label="label.close">x</button>
      </header>
      <label class="field">
        <span data-i18n="tz.search">Search</span>
        <input type="text" id="tz-search" placeholder="Search (e.g. London)"
          data-i18n-placeholder="tz.searchPlaceholder" autocomplete="off">
      </label>
      <ul id="tz-results" class="tz-results" role="listbox"></ul>
      <p id="tz-empty" class="tz-empty hidden" data-i18n="tz.noMatches">No matches yet. Try a city, region, or UTC+5:30.
      </p>
    </div>
  </dialog>

  <div id="world-planner-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="wp-modal-title">
    <div class="modal-backdrop"></div>
    <div class="planner-modal-card">
      <header class="planner-header">
        <div class="planner-controls-left">
          <h3 id="wp-modal-title" class="hidden" data-i18n="modal.worldPlanner">World Planner</h3>
          <div class="wp-search-wrapper">
            <i class="fa-solid fa-earth-americas wp-search-icon"></i>
            <input id="wp-add-zone" type="text" aria-label="Add timezone" placeholder="Add timezone (e.g. London)"
              data-i18n-placeholder="planner.addTimezone" autocomplete="off">
            <ul id="wp-tz-results" class="tz-results hidden" role="listbox"></ul>
          </div>
        </div>
        <div class="planner-controls-right">
          <input id="wp-date-picker" type="date" class="wp-date-picker" aria-label="Planner date">
          <button id="wp-format-toggle" type="button" class="accent-btn" style="min-width: 50px;"
            aria-label="Toggle time format">12h</button>
          <button id="wp-close" type="button" class="icon-btn" aria-label="Close">x</button>
        </div>
      </header>

      <div id="wp-grid" class="modal-grid-container">
        <!-- JS will populate this -->
        <!-- Example Structure for dev reference:
        <div class="city-col">
            <div class="wp-row-header home-row">...</div>
            <div class="wp-row-header">...</div>
        </div>
        <div class="timeline-col">
            <div class="timeline-track">
                <div class="scrubber-overlay"></div>
                <div class="wp-row-cells">...</div>
            </div>
        </div> 
        -->
      </div>
    </div>
  </div>

  <div id="mobile-drawer-backdrop" class="mobile-drawer-backdrop mobile-only" aria-hidden="true"></div>
  <aside id="mobile-drawer" class="mobile-drawer mobile-only" role="dialog" aria-modal="true" aria-label="Mobile menu"
    aria-hidden="true">
    <div class="mobile-drawer-header">
      <span id="mobile-drawer-title" class="mobile-drawer-title" data-i18n="label.menu">Menu</span>
      <button id="mobile-drawer-close" type="button" class="icon-btn" aria-label="Close menu">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>
    <div class="mobile-drawer-body">
      <div class="mobile-drawer-section">
        <span class="mobile-drawer-label" data-i18n="label.views">Views</span>
        <div class="mobile-drawer-view-toggle" role="tablist" aria-label="Mobile calendar views">
          <button data-view="day" role="tab" aria-label="Day view" aria-selected="false" tabindex="-1">Day</button>
          <button data-view="week" role="tab" aria-label="Week view" aria-selected="false" tabindex="-1">Week</button>
          <button data-view="month" role="tab" aria-label="Month view" aria-selected="true" tabindex="0"
            class="active">Month</button>
          <button data-view="year" role="tab" aria-label="Year view" aria-selected="false" tabindex="-1">Year</button>
          <button data-view="agenda" role="tab" aria-label="Agenda view" aria-selected="false"
            tabindex="-1">Agenda</button>
          <button data-view="timeline" role="tab" aria-label="Timeline view" aria-selected="false" tabindex="-1"
            data-i18n="view.timeline">Timeline</button>
        </div>
      </div>

      <div class="mobile-drawer-section">
        <span class="mobile-drawer-label" data-i18n="label.details">Details</span>
        <div class="side-card">
          <h3 id="mobile-selected-date-label" class="side-title" data-i18n="panel.selectedDay">Selected day</h3>
          <div id="mobile-event-list" class="event-list"></div>
          <button id="mobile-add-event-inline" type="button" class="ghost" data-i18n="btn.addEventForDay">Add event for
            this day</button>
        </div>
      </div>

      <div class="mobile-drawer-section">
        <span class="mobile-drawer-label" data-i18n="tz.worldClock">World Clock</span>
        <div class="tz-header">
          <div>
            <p class="tz-subtitle" data-i18n="tz.subtitle">Local time plus saved zones</p>
          </div>
          <button id="mobile-add-tz-btn" type="button" class="icon-btn tz-add" aria-label="Add timezone"
            data-i18n-aria-label="btn.addTimezone">+</button>
        </div>
        <div id="mobile-tz-list" class="tz-list" aria-live="polite"></div>
      </div>

      <div class="mobile-drawer-section">
        <span class="mobile-drawer-label" data-i18n="label.actions">Actions</span>
        <button id="mobile-world-planner-btn" type="button" class="mobile-drawer-item" aria-label="Open planner">
          <i class="fa-solid fa-earth-americas"></i> <span>Planner</span>
        </button>
        <a href="https://github.com/supunlakmal/hash-calendar" class="mobile-drawer-item action-link" target="_blank"
          rel="noopener" aria-label="GitHub">
          <i class="fa-brands fa-github"></i> <span>GitHub</span>
        </a>
        <a href="https://www.buymeacoffee.com/supunlakmal" class="mobile-drawer-item action-link bmc-link"
          target="_blank" rel="noopener" aria-label="Buy me a coffee">
          <i class="fa-solid fa-mug-hot"></i> <span>Buy me a coffee</span>
        </a>
        <a href="privacy.html" class="mobile-drawer-item action-link" aria-label="Privacy" target="_blank"
          rel="noopener">
          <i class="fa-solid fa-shield-halved"></i> <span>Privacy</span>
        </a>
        <a href="help.html" class="mobile-drawer-item action-link" aria-label="Help" target="_blank" rel="noopener">
          <i class="fa-solid fa-circle-question"></i> <span>Help</span>
        </a>
        <a href="faq.html" class="mobile-drawer-item action-link" aria-label="FAQ" target="_blank" rel="noopener">
          <i class="fa-solid fa-comments"></i> <span>FAQ</span>
        </a>
        <a href="about.html" class="mobile-drawer-item action-link" aria-label="About" target="_blank"
          rel="noopener">
          <i class="fa-solid fa-circle-info"></i> <span>About</span>
        </a>
      </div>

      <div id="mobile-share-export-section" class="mobile-drawer-section">
        <span class="mobile-drawer-label" data-i18n="panel.shareExport">Share and export</span>
        <div class="side-card">
          <div class="status-row">
            <span data-i18n="panel.urlLength">URL length</span>
            <strong id="mobile-url-length">0</strong>
          </div>
          <p id="mobile-url-warning" class="url-warning"></p>
          <div class="stacked-actions">
            <button id="mobile-view-json" type="button" class="ghost">
              <i class="fa-solid fa-code" aria-hidden="true"></i>
              <span class="stacked-action-label" data-i18n="btn.viewJson">View JSON</span>
            </button>
            <button id="mobile-export-json" type="button" class="ghost">
              <i class="fa-solid fa-file-arrow-down" aria-hidden="true"></i>
              <span class="stacked-action-label" data-i18n="btn.exportJson">Export JSON</span>
            </button>
            <button id="mobile-import-ics" type="button" class="ghost">
              <i class="fa-solid fa-file-arrow-up" aria-hidden="true"></i>
              <span class="stacked-action-label" data-i18n="btn.importIcs">Import .ics</span>
            </button>
            <button id="mobile-open-template-gallery" type="button" class="ghost">
              <i class="fa-solid fa-images" aria-hidden="true"></i>
              <span class="stacked-action-label" data-i18n="btn.templateGallery">Template gallery</span>
            </button>
          </div>
        </div>
      </div>

      <div id="mobile-danger-zone-section" class="mobile-drawer-section">
        <span class="mobile-drawer-label" data-i18n="panel.dangerZone">Danger zone</span>
        <div class="side-card danger">
          <button id="mobile-clear-all" type="button" class="danger-btn" data-i18n="btn.clearCalendar">Clear
            calendar</button>
        </div>
      </div>

      <div class="mobile-drawer-section">
        <span class="mobile-drawer-label" data-i18n="label.settings">Settings</span>
        <button id="mobile-weekstart-toggle" type="button" class="mobile-drawer-item"
          aria-label="Toggle week start day">
          <i class="fa-solid fa-calendar-week"></i> <span>Week starts Sunday</span>
        </button>
        <button id="mobile-theme-toggle" type="button" class="mobile-drawer-item" aria-label="Toggle theme">
          <i class="fa-solid fa-circle-half-stroke"></i> <span>Theme: Light</span>
        </button>
        <button id="mobile-notify-toggle" type="button" class="mobile-drawer-item" aria-label="Toggle notifications">
          <i class="fa-solid fa-bell"></i> <span data-i18n="settings.notificationsOff">Notifications: Off</span>
        </button>
        <button id="mobile-readonly-btn" type="button" class="mobile-drawer-item" aria-pressed="false">
          <i class="fa-solid fa-pen"></i> <span data-i18n="btn.readOnly">Read only</span>
        </button>
        <div class="mobile-drawer-item mobile-language-picker dropdown-container">
          <button id="mobile-language-btn" class="dropdown-trigger" type="button" aria-label="Select language"
            aria-haspopup="listbox" aria-expanded="false"
            style="width: 100%; border: none; background: transparent; padding: 0; box-shadow: none; justify-content: space-between;">
            <div style="display: flex; align-items: center; gap: 10px;">
              <i class="fa-solid fa-language"></i>
              <span id="mobile-current-lang">English</span>
            </div>
            <i class="fa-solid fa-chevron-down"></i>
          </button>
          <div id="mobile-language-dropdown" class="dropdown-menu hidden"
            style="width: 100%; bottom: calc(100% + 5px); top: auto; right: 0;">
            <ul id="mobile-language-list" class="dropdown-list" role="listbox">
              <!-- Generated by JS -->
            </ul>
          </div>
        </div>
      </div>
    </div>
  </aside>

  <div id="toast-container" class="toast-container" aria-live="polite" aria-atomic="true"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script src="modules/lz-string.min.js"></script>
  <script type="module" src="script.js"></script>
</body>

</html>
